

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>NeuralQA Documentation &mdash; NeuralQA 0.0.16a documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> NeuralQA
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">NeuralQA Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">NeuralQA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>NeuralQA Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="neuralqa-documentation">
<h1>NeuralQA Documentation<a class="headerlink" href="#neuralqa-documentation" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">NeuralQA</span></code> provides an easy to use api and visual interface for Question Answering (QA),
on large datasets. The QA process is comprised of two main stages - <strong>Passage retrieval (Retriever)</strong> which is implemented using <a class="reference external" href="https://www.elastic.co/downloads/elasticsearch">ElasticSearch</a>
and <strong>Document Reading (Reader)</strong> which is implemented using pretrained BERT models via the
Huggingface <a class="reference external" href="https://github.com/huggingface/transformers">Transformers</a>  api.</p>
<p>You can install it via pip:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip3 install neuralqa
</pre></div>
</div>
<p>Launch the web interface via command line:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>neuralqa ui --port <span class="m">5000</span>
</pre></div>
</div>
<p>You can also clone this repository, make changes and launch the application directly from repository:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python neuralqa/cli.py ui
</pre></div>
</div>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/victordibia/neuralqa/master/docs/images/manual.jpg"><img alt="NeuralQA User Interface Screenshot" src="https://raw.githubusercontent.com/victordibia/neuralqa/master/docs/images/manual.jpg" style="width: 100%;" /></a>
<div class="section" id="why-neuralqa">
<h2>Why NeuralQA?<a class="headerlink" href="#why-neuralqa" title="Permalink to this headline">¶</a></h2>
<p>The goal of NeuralQA is to provide the quickest path to exploring QA with as little changes as possible to your current infrastructure.</p>
<p>NeuralQA is helpful in a few ways:</p>
<ul class="simple">
<li><p>A visual interface for sensemaking of model results.</p></li>
<li><p>A rest api for QA related operations (retrieval, document reading, model explanation).</p></li>
<li><p>Helpful implementations that <em>can</em> improve the QA process
- RelSnip (Relevant Snippets): The content of retrieved documents can be lengthy, incurring high latency costs for a docuement reader to process the entire document. RelSnip constructs a smaller passage by concatenating subsections of the original documents that contain exact keyword matches for the query. This set of relevant snippets is then processed by the document reader.
- Query expansion: Sparse representation retrievers like BM25 and TFIDF (implemented in ElasticSearch) rely on exact query keyword matching. This can be problematic if a different vocabulary is used in the documents to express the same content. To help address this, NeuralQA can rewrite the query to integrate additional keywords to increase the set of relevant retrieved documents.</p></li>
<li><p>Configurable via a yaml configuration file.</p>
<ul>
<li><p>Bring your own QA reader. You can select from the gallery of QA models provided by HuggingFace or provide your own finetuned HuggingFace model.</p></li>
<li><p>Bring your own retriever. You can attach NeuralQA to an existing retriever instance (elasticsearch) and configure retriever queries.</p></li>
<li><p>Configure the visual interface.</p>
<ul>
<li><p>Show/hide views: e.g. show/hide retrieved passages, show only top answer or all answers, show sample questions etc.</p></li>
<li><p>Show/hide controls: e.g. show/hide controls for selected retriever, reader etc.</p></li>
<li><p>Content: You can rename the  title and descriptions as needed.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>NeuralQA is created to be helpful for two groups of users:</p>
<ul class="simple">
<li><p><strong>Hobbyists</strong>: Try out QA models on your own data or retriever setup and visually inspect the results.</p></li>
<li><p><strong>Teams</strong>: Provide a front facing QA interface for your end users on your retriever instances. You can create docker containers that run NeuralQA for scale and configure them with your retriever instance clusters.</p></li>
</ul>
</div>
<div class="section" id="how-it-works">
<h2>How It Works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/victordibia/neuralqa/master/docs/images/architecture.png"><img alt="NeuralQA Architecture" src="https://raw.githubusercontent.com/victordibia/neuralqa/master/docs/images/architecture.png" style="width: 100%;" /></a>
<p>NeuralQA is comprised of several high level modules:</p>
<ul class="simple">
<li><p><strong>Retriever</strong>: For each search query (question), scan an index (elasticsearch), and retrieve a list of candidate matched passages.</p></li>
<li><p><strong>Reader</strong>: For each retrieved passage, a BERT based model predicts a span that contains the answer to the question. In practice, retrieved passages may be lengthy and BERT based models can process a maximum of 512 tokens at a time. NeuralQA handles this in two ways. Lengthy passages are chunked into smaller sections with a configurable stride. Secondly, NeuralQA offers the option of extracting a subset of relevant snippets (RelSnip) which a BERT reader can then scan to find answers. Relevant snippets are portions of the retrieved document that contain exact match results for the search query.</p></li>
<li><p><strong>Expander</strong>: Methods for generating additional (relevant) query terms to improve recall. Currently, we implement Contextual Query Expansion using finetuned Masked Language Models.</p></li>
<li><p><strong>User Interface</strong>: NeuralQA provides a visual user interface for performing queries (manual queries where question and context are provided as well as queries over a search index), viewing results and also sensemaking of results (reranking of passages based on answer scores, highlighting keyword match, model explanations).</p></li>
</ul>
</div>
<div class="section" id="citation">
<h2>Citation<a class="headerlink" href="#citation" title="Permalink to this headline">¶</a></h2>
<p>A paper introducing NeuralQA and its components can be <a class="reference external" href="https://raw.githubusercontent.com/victordibia/neuralqa/master/docs/images/neuralqa.pdf">found here</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">dibia2020neuralqa</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="n">NeuralQA</span><span class="p">:</span> <span class="n">A</span> <span class="n">Usable</span> <span class="n">Library</span> <span class="k">for</span> <span class="n">Question</span> <span class="n">Answering</span> <span class="p">(</span><span class="n">Contextual</span> <span class="n">Query</span> <span class="n">Expansion</span> <span class="o">+</span> <span class="n">BERT</span><span class="p">)</span> <span class="n">on</span> <span class="n">Large</span> <span class="n">Datasets</span><span class="p">},</span>
    <span class="n">author</span><span class="o">=</span><span class="p">{</span><span class="n">Victor</span> <span class="n">Dibia</span><span class="p">},</span>
    <span class="n">year</span><span class="o">=</span><span class="p">{</span><span class="mi">2020</span><span class="p">},</span>
    <span class="n">journal</span><span class="o">=</span><span class="p">{</span><span class="n">arXiv</span> <span class="n">preprint</span> <span class="n">arXiv</span><span class="p">:</span><span class="mf">2007.15211</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">NeuralQA Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#viewing-the-ui">Viewing the UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#command-line-options">Command Line Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#rest-api-docs">Rest API Docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#loading-sample-data">Loading Sample Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#ui-configuration">UI Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#reader-configuration">Reader Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#memory-requirements">Memory Requirements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usage.html" class="btn btn-neutral float-right" title="Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Victor Dibia

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>